import{a as P}from"./chunk-ZAUUXHTY.js";import"./chunk-R3HOXIVC.js";import{a as k,c as D,d as I,e as F,g as o,i as L,j as M,k as B,l as V,m as G,n as O}from"./chunk-4RPHJYY6.js";import{f as N}from"./chunk-BSNFLQ65.js";import{Ha as y,Ia as _,Ka as w,La as S,Ma as C,Na as n,Oa as e,P as u,Pa as l,Q as g,Ta as f,Ua as c,Va as b,Xa as i,Ya as p,_ as E,oa as m,ya as x}from"./chunk-ARARROEB.js";import"./chunk-2NFLSA4Y.js";var h=class{empId;empName;contactNo;email;deptName;designation;createdDate;userName;password;sickLeaveBalance;paidLeaveBalance;role;constructor(){this.empId=0,this.empName="",this.contactNo="",this.email="",this.deptName="",this.designation="",this.createdDate=new Date,this.userName="",this.password="",this.sickLeaveBalance=0,this.paidLeaveBalance=0,this.role=""}};var A=(a,r)=>r.empId;function R(a,r){if(a&1){let t=f();n(0,"tr")(1,"td"),i(2),e(),n(3,"td"),i(4),e(),n(5,"td"),i(6),e(),n(7,"td"),i(8),e(),n(9,"td"),i(10),e(),n(11,"td")(12,"button",32),c("click",function(){let s=u(t).$implicit,v=b();return g(v.getEmployeeById(s.empId))}),i(13,"Edit"),e(),n(14,"button",33),c("click",function(){let s=u(t).$implicit,v=b();return g(v.deleteEmployee(s.empId))}),i(15,"Delete"),e()()()}if(a&2){let t=r.$implicit;m(2),p(t.empId),m(2),p(t.empName),m(2),p(t.email),m(2),p(t.deptName),m(2),p(t.role)}}function U(a,r){a&1&&(n(0,"div",12)(1,"label",14),i(2,"Employee ID"),e(),l(3,"input",34),e())}function $(a,r){if(a&1){let t=f();n(0,"button",35),c("click",function(){u(t);let s=b();return g(s.updateEmployee())}),i(1,"Update"),e()}}function Y(a,r){if(a&1){let t=f();n(0,"button",36),c("click",function(){u(t);let s=b();return g(s.createEmployee())}),i(1,"Create"),e()}}var T=class a{leaveSrv=new P;empList=E([]);empData=E(new h);empFormGrp=new F({empId:new o(this.empData().empId),empName:new o(this.empData().empName),contactNo:new o(this.empData().contactNo),email:new o(this.empData().email),deptName:new o(this.empData().deptName),designation:new o(this.empData().designation),createdDate:new o(this.empData().createdDate),userName:new o(this.empData().userName),password:new o(this.empData().password),sickLeaveBalance:new o(this.empData().sickLeaveBalance),paidLeaveBalance:new o(this.empData().paidLeaveBalance),role:new o(this.empData().role)});empIdShow=E(!1);constructor(){}ngOnInit(){this.getAllEmployee()}getAllEmployee(){debugger;this.leaveSrv.getAllEmployee().subscribe({next:r=>{debugger;this.empList.set(r)},error:r=>{console.log(r.message)}})}getEmployeeById(r){debugger;this.setShowEmpId(r),this.leaveSrv.getEmployeeById(r).subscribe({next:t=>{debugger;this.empFormGrp.patchValue(t),console.log(t)},error:t=>{console.log(t.message)}})}createEmployee(){debugger;let r=this.empFormGrp.value;this.leaveSrv.createEmployee(r).subscribe({next:t=>{debugger;alert("Employee created successfully"),this.getAllEmployee(),this.clearForm()},error:t=>{debugger;alert("Error while creating employee"),console.log(t.error.message)}})}updateEmployee(){debugger;let r=this.empFormGrp.value;this.leaveSrv.updateEmployee(r).subscribe({next:t=>{debugger;alert("Employee updated successfully"),this.getAllEmployee(),this.clearForm()},error:t=>{alert("Error while updating employee"),console.log(t.message)}})}deleteEmployee(r){debugger;this.clearForm(),confirm("Are you sure to delete employee with ID "+r+"?")&&this.leaveSrv.deleteEmployee(r).subscribe({next:t=>{debugger;alert("Employee deleted successfully"),this.getAllEmployee(),this.clearForm()},error:t=>{alert("Error while deleting employee"),console.log(t.message)}})}setShowEmpId(r){let t=r>0;this.empIdShow.set(t)}clearForm(){this.empFormGrp.reset(),this.setShowEmpId(0)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=x({type:a,selectors:[["app-emp"]],decls:78,vars:3,consts:[[1,"container-fluid","py-4"],[1,"row","g-4"],[1,"col-md-8"],[1,"card","shadow-lg"],[1,"card-header","table-card-header"],[1,"card-body","bg-light"],[1,"table","table-bordered","table-hover","align-middle"],[1,"table-dark"],["width","150"],[1,"col-md-4"],[1,"card-header","form-card-header"],[3,"formGroup"],["aria-disabled","true",1,"mb-2"],[1,"mb-2"],[1,"form-label"],["type","text","formControlName","empName",1,"form-control"],["type","text","formControlName","contactNo",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","text","formControlName","deptName",1,"form-control"],["type","text","formControlName","designation",1,"form-control"],["type","text","formControlName","userName",1,"form-control"],["type","password","formControlName","password",1,"form-control"],[1,"row"],[1,"col"],["type","number","formControlName","sickLeaveBalance",1,"form-control"],["type","number","formControlName","paidLeaveBalance",1,"form-control"],[1,"mb-3","mt-2"],["type","text","formControlName","role",1,"form-control"],[1,"d-grid","gap-2"],[1,"btn","btn-primary"],[1,"btn","btn-success"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],["type","text","formControlName","empId","readonly","",1,"form-control"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(t,d){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),i(5," Leave Tracker Records "),e(),n(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th"),i(11,"ID"),e(),n(12,"th"),i(13,"Name"),e(),n(14,"th"),i(15,"Email"),e(),n(16,"th"),i(17,"Department"),e(),n(18,"th"),i(19,"Role"),e(),n(20,"th",8),i(21,"Actions"),e()()(),n(22,"tbody"),w(23,R,16,5,"tr",null,A),e()()()()(),n(25,"div",9)(26,"div",3)(27,"div",10),i(28," Employee Form "),e(),n(29,"div",5)(30,"form",11),y(31,U,4,0,"div",12),n(32,"div",13)(33,"label",14),i(34,"Employee Name"),e(),l(35,"input",15),e(),n(36,"div",13)(37,"label",14),i(38,"Contact No"),e(),l(39,"input",16),e(),n(40,"div",13)(41,"label",14),i(42,"Email"),e(),l(43,"input",17),e(),n(44,"div",13)(45,"label",14),i(46,"Department"),e(),l(47,"input",18),e(),n(48,"div",13)(49,"label",14),i(50,"Designation"),e(),l(51,"input",19),e(),n(52,"div",13)(53,"label",14),i(54,"Username"),e(),l(55,"input",20),e(),n(56,"div",13)(57,"label",14),i(58,"Password"),e(),l(59,"input",21),e(),n(60,"div",22)(61,"div",23)(62,"label",14),i(63,"Sick Leave"),e(),l(64,"input",24),e(),n(65,"div",23)(66,"label",14),i(67,"Paid Leave"),e(),l(68,"input",25),e()(),n(69,"div",26)(70,"label",14),i(71,"Role"),e(),l(72,"input",27),e(),n(73,"div",28),y(74,$,2,0,"button",29)(75,Y,2,0,"button",30),n(76,"button",31),c("click",function(){return d.clearForm()}),i(77,"Clear"),e()()()()()()()()),t&2&&(m(23),S(d.empList()),m(7),C("formGroup",d.empFormGrp),m(),_(d.empIdShow()?31:-1),m(43),_(d.empIdShow()?74:75))},dependencies:[G,L,k,M,D,I,O,V,B,N],styles:[".parent[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(-45deg,#1d2671,#c33764,#0f2027,#203a43);background-size:400% 400%;animation:_ngcontent-%COMP%_gradientBG 12s ease infinite}@keyframes _ngcontent-%COMP%_gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.card[_ngcontent-%COMP%]{border-radius:15px;animation:_ngcontent-%COMP%_fadeUp .8s ease-in-out}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.table-card-header[_ngcontent-%COMP%]{background:linear-gradient(45deg,#0d6efd,#0a58ca);color:#fff;font-weight:700}.form-card-header[_ngcontent-%COMP%]{background:linear-gradient(45deg,#198754,#146c43);color:#fff;font-weight:700}.btn[_ngcontent-%COMP%]{transition:transform .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};export{T as Emp};
